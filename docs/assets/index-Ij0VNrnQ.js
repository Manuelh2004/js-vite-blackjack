(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();const b=(r,e)=>{let o=[];if(!r||r.length==0)throw new Error("Surgió un error");for(let s=2;s<=10;s++)for(let t of r)o.push(s+t);for(let s of r)for(let t of e)o.push(t+s);return _.shuffle(o)},m=r=>r.pop(),h=r=>{const e=r.substring(0,r.length-1);return isNaN(e)?e=="A"?11:10:e*1},p=(r,e,o,s)=>(o[e]=o[e]+h(r),s[e].innerText=o[e],o[e]),g=(r,e,o)=>{const s=document.createElement("img");s.src=`assets/cartas/${r}.png`,s.classList.add("carta"),o[e].append(s)},u=(r,e,o,s,t)=>{let n=0;do{const c=m(e);n=p(c,o.length-1,o,s),g(c,o.length-1,t)}while(n<r&&r<=21);y(o)},y=r=>{const[e,o]=r;setTimeout(()=>{o===e?alert("Nadie gana :c"):e>21?alert("Computadora gana"):o>21?alert("Felicidades, ganaste!"):alert("Computadora gana")},10)};(()=>{let r=[],e=[];const o=["C","D","H","S"],s=["A","J","K","Q"],t=document.querySelector("#btnPedir"),n=document.querySelector("#btnDetener"),c=document.querySelector("#btnNuevo"),l=document.querySelectorAll(".divCartas"),d=document.querySelectorAll("small"),f=(i=2)=>{r=b(o,s),e=[];for(let a=0;a<i;a++)e.push(0);d.forEach(a=>a.innerText=0),l.forEach(a=>a.innerHTML=""),t.disabled=!1,n.disabled=!1};return t.addEventListener("click",()=>{const i=m(r),a=p(i,0,e,d);g(i,0,l),a>21?(console.warn("Lo sentimo, perdió"),t.disabled=!0,n.disabled=!0,u(a)):a==21&&(console.warn("21, genial!"),t.disabled=!0,n.disabled=!0,u(a))}),n.addEventListener("click",()=>{t.disabled=!0,n.disabled=!0,u(e[0],r,e,d,l)}),c.addEventListener("click",()=>{f()}),{nuevoJuego:f}})();
