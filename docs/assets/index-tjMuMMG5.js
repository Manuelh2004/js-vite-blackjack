(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function c(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(r){if(r.ep)return;r.ep=!0;const o=c(r);fetch(r.href,o)}})();(()=>{let n=[],s=[];const c=["C","D","H","S"],l=["A","J","K","Q"],r=document.querySelector("#btnPedir"),o=document.querySelector("#btnDetener"),i=document.querySelector("#btnNuevo"),u=document.querySelectorAll(".divCartas"),f=document.querySelectorAll("small"),p=(t=2)=>{n=h(),s=[];for(let e=0;e<t;e++)s.push(0);f.forEach(e=>e.innerText=0),u.forEach(e=>e.innerHTML=""),r.disabled=!1,o.disabled=!1},h=()=>{n=[];for(let t=2;t<=10;t++)for(let e of c)n.push(t+e);for(let t of c)for(let e of l)n.push(e+t);return _.shuffle(n)},m=()=>{if(n.length==0)throw"No existe cartas en el arreglo";return n.pop()},y=t=>{const e=t.substring(0,t.length-1);return isNaN(e)?e=="A"?11:10:e*1},g=(t,e)=>(s[e]=s[e]+y(t),f[e].innerText=s[e],s[e]),b=(t,e)=>{const a=document.createElement("img");a.src=`assets/cartas/${t}.png`,a.classList.add("carta"),u[e].append(a)},d=t=>{let e=0;do{const a=m();e=g(a,s.length-1),b(a,s.length-1)}while(e<t&&t<=21);v()},v=()=>{const[t,e]=s;setTimeout(()=>{e===t?alert("Nadie gana :c"):t>21?alert("Computadora gana"):e>21?alert("Felicidades, ganaste!"):alert("Computadora gana")},10)};return r.addEventListener("click",()=>{const t=m(),e=g(t,0);b(t,0),e>21?(console.warn("Lo sentimo, perdiÃ³"),r.disabled=!0,o.disabled=!0,d(e)):e==21&&(console.warn("21, genial!"),r.disabled=!0,o.disabled=!0,d(e))}),o.addEventListener("click",()=>{r.disabled=!0,o.disabled=!0,d(s[0])}),i.addEventListener("click",()=>{p()}),{nuevoJuego:p}})();
